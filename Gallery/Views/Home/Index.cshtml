@model IEnumerable<Gallery.Models.photo>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Fluid Gallery HTML5 CSS3 Template</title>

    <!-- load stylesheets -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600">
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="~/Font-Awesome-4.7/css/font-awesome.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="~/Content/bootstrap.min.css">
    <!-- Bootstrap style -->
    <link rel="stylesheet" href="~/Content/hero-slider-style.css">
    <!-- Hero slider style (https://codyhouse.co/gem/hero-slider/) -->
    <link rel="stylesheet" href="~/Content/magnific-popup.css">
    <!-- Magnific popup style (http://dimsemenov.com/plugins/magnific-popup/) -->
    <link rel="stylesheet" href="~/Content/templatemo-style.css">
    <link href="~/Content/layui.css" rel="stylesheet" />
    <style>
        #to_top {
            position: fixed;
            right: 50px;
            bottom: 100px;
            margin-right: 50px;
        }
    </style>
    <style>
        * {
            padding: 0px;
            margin: 0px;
        }

        html,
        body {
            width: 100%;
            min-height: 100%;
        }

        #SB {
            margin: 0;
            padding: 0;
            list-style: none;
        }

            #SB .in {
                /* border: 1px solid red;*/
                text-align: center;
                height: 480px;
                float: left;
            }

        .in img {
            border: none;
            vertical-align: middle;
            height: 400px;
            width: 400px;
        }
    </style>


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
          <![endif]-->
    <!-- These two JS are loaded at the top for gray scale including the loader. -->

    <script src="/Scripts/gallery/jquery-1.11.3.min.js"></script>
    <!-- jQuery (https://jquery.com/download/) -->

    <script>
        window.onload = function () {
            //找到oTop这个对象
            var oTop = document.getElementById("to_top");
            //得到屏幕的宽度
            var screenw = document.documentElement.clientWidth || document.body.clientWidth;
            //得到屏幕的高度
            var screenh = document.documentElement.clientHeight || document.body.clientHeight;
            //设置oTop的样式
            oTop.style.left = screenw - oTop.offsetWidth + "px";
            oTop.style.top = screenh - oTop.offsetHeight + "px";
            //设置点击事件：点击使当前屏幕的滚动条距离顶部的距离为0
            oTop.onclick = function () {
                document.documentElement.scrollTop = document.body.scrollTop = 0;
            }
        }
    </script>
    <script>

        var tm_gray_site = false;

        if (tm_gray_site) {
            $('html').addClass('gray');
        }
        else {
            $('html').removeClass('gray');
        }
    </script>
</head>

<body style="position:relative;">
    <!-- Content -->
    <div class="cd-hero">

        <!-- Navigation -->
        <div class="cd-slider-nav">
            <nav class="navbar">
                <div class="tm-navbar-bg">

                    <a class="navbar-brand text-uppercase" href="#"><i class="fa fa-picture-o tm-brand-icon"></i>Fluid Gallery</a>
                    <button class="navbar-toggler hidden-lg-up" type="button" data-toggle="collapse" data-target="#tmNavbar" id="mobileb">
                        <div id="mobilebtn">
                            @Html.Partial("_places")
                        </div>
                    </button>
                    <div class="collapse navbar-toggleable-md text-xs-center text-uppercase tm-navbar" id="tmNavbar">
                        <ul class="nav navbar-nav">
                            <!-- 导航样式展示
                                <li class="nav-item active selected">
                                    <a class="nav-link" href="#0" data-no="1">1st fluid <span class="sr-only">(current)</span></a>
                                </li>
                             -->
                            @Html.Partial("_Places")
                        </ul>
                    </div>
                </div>

            </nav>
        </div>

        <ul class="cd-hero-slider">

            <!-- Page 1 Gallery One -->
            <li class="selected">
                <div class="cd-full-width">
                    <div class="container-fluid js-tm-page-content" data-page-no="1" data-page-type="gallery">
                        <div class="tm-img-gallery-container">
                            <div class="tm-img-gallery gallery-one">
                                <!-- Gallery One pop up connected with JS code below -->
                                <!--模板图片展示样式-->
                                <!--  <div class="grid-item">
                                      <figure class="effect-sadie">-->
                                <!--<img src="IMG/tm-img-01-tn.jpg" alt="Image" class="img-fluid tm-img">-->
                                <!--   <img src="IMG/tm-img-01-tn.jpg"  alt="Image" class="img-fluid tm-img"/>
                                       <figcaption>
                                         <h2 class="tm-figure-title">Image <span><strong>One</strong></span></h2>
                                         <p class="tm-figure-description">Set true or false in HTML script tag for this page black and white.</p>
                                          <a href="IMG/tm-img-01.jpg">View more</a>
                                       </figcaption>
                                     </figure>
                                -->
                                <div id="SB">
                                    @foreach (var item in Model)
                                    {
                                        <div class="grid-item">
                                            <figure class="effect-sadie">
                                                <!--<img src="IMG/tm-img-01-tn.jpg" alt="Image" class="img-fluid tm-img">-->
                                                <img src="/IMG/loading.jpg" data-imgurl="@item.url" alt="Image" class="img-fluid tm-img in" />
                                                <figcaption>
                                                    <h2 class="tm-figure-title">@item.name <span><strong></strong></span></h2>
                                                    <p class="tm-figure-description">@item.content</p>
                                                    @*<a href="@item.url"></a>*@
                                                    <a class="dd" href="javascript:;" src="@item.url" onclick="on()">View more</a>
                                                </figcaption>
                                            </figure>
                                        </div>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul> <!-- .cd-hero-slider -->

        <footer class="tm-footer">
            <input id="to_top" class="layui-btn" type="button" value="顶部" />
        </footer>
    </div> <!-- .cd-hero -->
    <!--遮罩层样式 -->
    <div class="mask" style="position:fixed; display:none; width:100%; height:100%; top:0; left:0; z-index:1; background:rgba(92, 89, 89, 0.40); overflow:hidden;"></div>
    <!--弹出层-->
    <div class="popups" style="display:none; position:fixed; top:50%; margin-left:-658px; margin-top:-377px; left:50%; z-index:2; ">
        <img class="surl" style="width:1315px; height:774px;" src="" />
    </div>
    <!-- Preloader, https://ihatetomatoes.net/create-custom-preloading-screen/ -->
    <!-- load JS files -->
    <script src="/Scripts/gallery/flowloading.js"></script>
    <script src="/Scripts/jquery.magnific-popup.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $("#mobileb").click(function () {
                if ($("#mobileb").is(":visible")) { //如果按钮显示
                    $("#mobileb").show();    //则隐藏
                }
                else {
                    $("#mobileb").hide();
                }
            })
        });
    </script>
    <script>

        function adjustHeightOfPage(pageNo) {
            document.getElementsByClassName
            var pageContentHeight = 0;

            var pageType = $('div[data-page-no="' + pageNo + '"]').data("page-type");

            if (pageType != undefined && pageType == "gallery") {
                pageContentHeight = $(".cd-hero-slider li:nth-of-type(" + pageNo + ") .tm-img-gallery-container").height();
            }
            else {
                pageContentHeight = $(".cd-hero-slider li:nth-of-type(" + pageNo + ") .js-tm-page-content").height() + 20;
            }

            // Get the page height
            var totalPageHeight = $('.cd-slider-nav').height()
                + pageContentHeight
                + $('.tm-footer').outerHeight();

            // Adjust layout based on page height and window height
            if (totalPageHeight > $(window).height()) {
                $('.cd-hero-slider').addClass('small-screen');
                $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", totalPageHeight + "px");
            }
            else {
                $('.cd-hero-slider').removeClass('small-screen');
                $('.cd-hero-slider li:nth-of-type(' + pageNo + ')').css("min-height", "100%");
            }
        }

        /*
            Everything is loaded including images.
        */
        $(window).load(function () {
            adjustHeightOfPage(1);// Adjust page height
            // Remove preloader (https://ihatetomatoes.net/create-custom-preloading-screen/)
            $('body').addClass('loaded');

            // Write current year in copyright text.
            $(".tm-copyright-year").text(new Date().getFullYear());
            //图片的点击事件
            $('.dd').click(function () {
                //获取图片的路径
                var imgurl = $(this).attr('src');
                //修改弹出层的src路径
                $('.surl').attr('src', imgurl);
                //弹出层
                $('.popups').show();
                //遮罩层
                $('.mask').show();
                //禁用浏览器滚动条
                $("body").height($(window).height()).css({
                    "overflow-y": "hidden"
                });
            });
            //遮罩层的点击事件
            $('.mask').click(function () {
                //弹出层隐藏
                $('.popups').hide();
                //遮罩层隐藏
                $('.mask').hide();
                //启动浏览器滚动条
                $("body").height($(window).height()).css({
                    "overflow-y": "scroll"
                });
            })
        });
    </script>

</body>
</html>